<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Life</title>
    <link rel="stylesheet" media="all" href="docco.css" />
  </head>

  <body>
    <div class="background"></div>

    

    <div class="sections">
      <ul>

        

        
        
        <li id="section-1" class="section">
          <div class="annotation">
            
            <div class="pilwrap">
              <a class="pilcrow" href="#section-1">&#182;</a>
            </div>
            <h1 id="life">Life</h1>
<p>Just another game of life clone</p>

          </div>

          
          <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">import</span> Otto <span class="hljs-keyword">from</span> <span class="hljs-string">'@thewhodidthis/otto'</span>;

<span class="hljs-keyword">const</span> mySum = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b;
<span class="hljs-keyword">const</span> mooreEnds = <span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> [<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, -s, s, <span class="hljs-number">-1</span> - s, <span class="hljs-number">1</span> - s, <span class="hljs-number">-1</span> + s, <span class="hljs-number">1</span> + s];

<span class="hljs-keyword">const</span> Life = <span class="hljs-function">(<span class="hljs-params">opts</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">Object</span>.assign({
    <span class="hljs-attr">ends</span>: mooreEnds(opts.size),
    <span class="hljs-attr">seed</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>) % <span class="hljs-number">2</span>,
    <span class="hljs-attr">stat</span>: <span class="hljs-function">(<span class="hljs-params">code, hood, v</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> stats = hood.reduce(mySum);

      <span class="hljs-keyword">if</span> ((stats &lt;= <span class="hljs-number">1</span> || stats &gt;= <span class="hljs-number">4</span>) &amp;&amp; v === <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
      }

      <span class="hljs-keyword">if</span> (stats === <span class="hljs-number">3</span> &amp;&amp; v === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
      }

      <span class="hljs-keyword">return</span> v;
    },
  }, opts, {
    <span class="hljs-attr">size</span>: opts.size * opts.size,
  });

  <span class="hljs-keyword">return</span> Otto(data);
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Life;</pre></div></div>
          
        </li>
        

      </ul>
    </div>
  </body>
</html>
